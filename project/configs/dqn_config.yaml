# DQN configuration for TES-HeatEx project

simulation:
  timestep: 3600
  duration: 8760
  seed: 42

tes:
  type: "sensible"
  mass: 5000
  specific_heat: 4.18
  initial_temperature: 45.0
  min_temperature: 40.0
  max_temperature: 50.0
  loss_coefficient: 0.5
  ambient_temperature: 20.0

heat_exchanger:
  type: "effectiveness_ntu"
  heat_transfer_area: 50.0
  overall_heat_transfer_coefficient: 0.5
  effectiveness: 0.85
  flow_arrangement: "counterflow"

electric_heater:
  max_power: 100.0
  efficiency: 0.98

heat_pump:
  enabled: false
  cop_heating: 3.5
  cop_cooling: 3.0
  max_power: 50.0

tou_pricing:
  peak_price: 1.2
  shoulder_price: 0.7
  offpeak_price: 0.3
  peak_hours: [[10, 12], [18, 21]]
  shoulder_hours: [[8, 10], [12, 18]]
  offpeak_hours: [[21, 24], [0, 8]]

heat_demand:
  type: "synthetic"
  base_load: 30.0
  peak_load: 80.0

rl_env:
  observation_space:
    include_temperature: true
    include_soc: true
    include_price_forecast: true
    price_forecast_hours: 6
    include_demand: true
    include_time_features: true
  action_space:
    type: "discrete"
    n_actions: 3
  reward:
    cost_weight: -1.0
    temperature_violation_penalty: 10.0
    demand_violation_penalty: 20.0
    cycling_penalty: 0.1

baseline:
  type: "simple_tou"
  charge_in_offpeak: true
  discharge_in_peak: true
  temperature_hysteresis: 2.0

training:
  algorithm: "DQN"
  total_timesteps: 200000
  learning_rate: 0.0001
  gamma: 0.99
  exploration_initial_eps: 1.0
  exploration_final_eps: 0.05
  exploration_fraction: 0.1
  buffer_size: 10000
  batch_size: 32
  train_freq: 4
  target_update_interval: 1000
  learning_starts: 1000
  eval_freq: 10000
  n_eval_episodes: 10
  save_freq: 50000
  log_dir: "logs"
  model_dir: "my_models"

# Additional Stable-Baselines3 options
  gradient_steps: -1
  policy_kwargs:
    net_arch: [256, 256]

evaluation:
  n_episodes: 20
  scenarios:
    - name: "baseline_scenario"
      description: "Standard operation"
    - name: "high_demand"
      description: "20% increased demand"
      demand_multiplier: 1.2
    - name: "price_spike"
      description: "50% increased peak prices"
      price_multiplier: 1.5

metrics:
  calculate_cost_savings: true
  calculate_energy_efficiency: true
  calculate_temperature_violations: true
  calculate_demand_satisfaction: true
  calculate_storage_utilization: true
  output_dir: "results"
  save_plots: true
  save_csv: true
